let map = [
    [{ wall: true, x: 3, y: 14 }, { wall: true, x: 3, y: 14 }, { wall: true, x: 3, y: 14 }, { wall: true, x: 3, y: 14 }, { wall: true, x: 3, y: 14 }, { wall: true, x: 3, y: 14 }, { wall: true, x: 3, y: 14 }, { wall: true, x: 3, y: 14 }, { wall: true, x: 3, y: 14 }, { wall: true, x: 3, y: 14 }, { wall: true, x: 3, y: 14 }, { wall: true, x: 3, y: 14 }, { wall: true, x: 3, y: 14 }, { wall: true, x: 3, y: 14 }, { wall: true, x: 3, y: 14 }, { wall: true, x: 3, y: 14 }, { wall: true, x: 3, y: 14 }, { wall: true, x: 3, y: 14 }, { wall: true, x: 3, y: 14 }, { wall: true, x: 3, y: 14 }, { wall: true, x: 3, y: 14 }, { wall: true, x: 3, y: 14 }, { wall: true, x: 3, y: 14 }, { wall: true, x: 3, y: 14 }, { wall: true, x: 3, y: 14 }, { wall: true, x: 3, y: 14 }, ],
    [{ wall: true, x: 1, y: 14 }, { wall: true, x: 4, y: 14 }, { wall: true, x: 2, y: 14 }, { wall: true, x: 2, y: 14 }, { wall: true, x: 2, y: 14 }, { wall: true, x: 2, y: 14 }, { wall: true, x: 2, y: 14 }, { wall: true, x: 2, y: 14 }, { wall: true, x: 2, y: 14 }, { wall: true, x: 2, y: 14 }, { wall: true, x: 2, y: 14 }, { wall: true, x: 2, y: 14 }, { wall: true, x: 2, y: 14 }, { wall: true, x: 2, y: 14 }, { wall: true, x: 2, y: 14 }, { wall: true, x: 2, y: 14 }, { wall: true, x: 2, y: 14 }, { wall: true, x: 2, y: 14 }, { wall: true, x: 2, y: 14 }, { wall: true, x: 2, y: 14 }, { wall: true, x: 2, y: 14 }, { wall: true, x: 2, y: 14 }, { wall: true, x: 2, y: 14 }, { wall: true, x: 2, y: 14 }, { wall: true, x: 2, y: 17 }, { wall: true, x: 4, y: 27 }, ],
    [{ wall: true, x: 1, y: 14 }, { wall: true, x: 1, y: 15 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: true, x: 6, y: 23 }, ],
    [{ wall: true, x: 1, y: 14 }, { wall: true, x: 1, y: 15 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: true, x: 6, y: 23 }, ],
    [{ wall: true, x: 1, y: 14 }, { wall: true, x: 1, y: 15 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: true, x: 6, y: 23 }, ],
    [{ wall: true, x: 1, y: 14 }, { wall: true, x: 1, y: 15 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: true, x: 6, y: 23 }, ],
    [{ wall: true, x: 1, y: 14 }, { wall: true, x: 1, y: 15 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: true, x: 6, y: 23 }, ],
    [{ wall: true, x: 1, y: 14 }, { wall: true, x: 1, y: 15 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: true, x: 6, y: 23 }, ],
    [{ wall: true, x: 1, y: 14 }, { wall: true, x: 1, y: 15 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: true, x: 6, y: 23 }, ],
    [{ wall: true, x: 1, y: 14 }, { wall: true, x: 1, y: 15 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: true, x: 6, y: 23 }, ],
    [{ wall: true, x: 1, y: 14 }, { wall: true, x: 1, y: 15 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: true, x: 6, y: 23 }, ],
    [{ wall: true, x: 1, y: 14 }, { wall: true, x: 1, y: 15 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: true, x: 6, y: 23 }, ],
    [{ wall: true, x: 1, y: 14 }, { wall: true, x: 1, y: 15 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: true, x: 6, y: 23 }, ],
    [{ wall: true, x: 1, y: 14 }, { wall: true, x: 1, y: 15 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: true, x: 6, y: 23 }, ],
    [{ wall: true, x: 1, y: 14 }, { wall: true, x: 1, y: 15 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: true, x: 6, y: 23 }, ],
    [{ wall: true, x: 1, y: 14 }, { wall: true, x: 1, y: 15 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: true, x: 6, y: 23 }, ],
    [{ wall: true, x: 1, y: 14 }, { wall: true, x: 1, y: 15 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: true, x: 6, y: 23 }, ],
    [{ wall: true, x: 1, y: 14 }, { wall: true, x: 1, y: 15 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: true, x: 6, y: 23 }, ],
    [{ wall: true, x: 1, y: 14 }, { wall: true, x: 1, y: 15 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: true, x: 6, y: 23 }, ],
    [{ wall: true, x: 1, y: 14 }, { wall: true, x: 1, y: 15 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: true, x: 6, y: 23 }, ],
    [{ wall: true, x: 1, y: 14 }, { wall: true, x: 1, y: 15 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: true, x: 6, y: 23 }, ],
    [{ wall: true, x: 1, y: 14 }, { wall: true, x: 1, y: 15 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: true, x: 6, y: 23 }, ],
    [{ wall: true, x: 1, y: 14 }, { wall: true, x: 1, y: 15 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: true, x: 6, y: 23 }, ],
    [{ wall: true, x: 1, y: 14 }, { wall: true, x: 1, y: 15 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: false, x: 1, y: 0 }, { wall: true, x: 6, y: 23 }, ],
    [{ wall: true, x: 1, y: 14 }, { wall: true, x: 1, y: 17 }, { wall: true, x: 0, y: 14 }, { wall: true, x: 0, y: 14 }, { wall: true, x: 0, y: 14 }, { wall: true, x: 0, y: 14 }, { wall: true, x: 0, y: 14 }, { wall: true, x: 0, y: 14 }, { wall: true, x: 0, y: 14 }, { wall: true, x: 0, y: 14 }, { wall: true, x: 0, y: 14 }, { wall: true, x: 0, y: 14 }, { wall: true, x: 0, y: 14 }, { wall: true, x: 0, y: 14 }, { wall: true, x: 0, y: 14 }, { wall: true, x: 0, y: 14 }, { wall: true, x: 0, y: 14 }, { wall: true, x: 0, y: 14 }, { wall: true, x: 0, y: 14 }, { wall: true, x: 0, y: 14 }, { wall: true, x: 0, y: 14 }, { wall: true, x: 0, y: 14 }, { wall: true, x: 0, y: 14 }, { wall: true, x: 0, y: 14 }, { wall: true, x: 0, y: 14 }, { wall: true, x: 3, y: 27 }, ],
    [{ wall: true, x: 2, y: 14 }, { wall: true, x: 2, y: 14 }, { wall: true, x: 2, y: 14 }, { wall: true, x: 2, y: 14 }, { wall: true, x: 2, y: 14 }, { wall: true, x: 2, y: 14 }, { wall: true, x: 2, y: 14 }, { wall: true, x: 2, y: 14 }, { wall: true, x: 2, y: 14 }, { wall: true, x: 2, y: 14 }, { wall: true, x: 2, y: 14 }, { wall: true, x: 2, y: 14 }, { wall: true, x: 2, y: 14 }, { wall: true, x: 2, y: 14 }, { wall: true, x: 2, y: 14 }, { wall: true, x: 2, y: 14 }, { wall: true, x: 2, y: 14 }, { wall: true, x: 2, y: 14 }, { wall: true, x: 2, y: 14 }, { wall: true, x: 2, y: 14 }, { wall: true, x: 2, y: 14 }, { wall: true, x: 2, y: 14 }, { wall: true, x: 2, y: 14 }, { wall: true, x: 2, y: 14 }, { wall: true, x: 2, y: 14 }, { wall: true, x: 2, y: 14 }, ],
];



let ahouse = [
    [{ wall: true, x: 0, y: 1 }, { wall: true, x: 0, y: 2 }, { wall: true, x: 0, y: 3 }, { wall: true, x: 0, y: 4 }, ],
    [{ wall: true, x: 1, y: 1 }, { wall: true, x: 1, y: 2 }, { wall: true, x: 1, y: 3 }, { wall: true, x: 1, y: 4 }, ],
    [{ wall: true, x: 2, y: 1 }, { wall: true, x: 2, y: 2 }, { wall: true, x: 2, y: 3 }, { wall: true, x: 2, y: 4 }, ],
];

let abighouse = [
    [{ wall: true, x: 0, y: 1 }, { wall: true, x: 0, y: 2 }, { wall: true, x: 0, y: 3 }, { wall: true, x: 0, y: 4 }, ],
    [{ wall: true, x: 1, y: 1 }, { wall: true, x: 1, y: 2 }, { wall: true, x: 1, y: 3 }, { wall: true, x: 1, y: 4 }, ],
    [{ wall: true, x: 1, y: 1 }, { wall: true, x: 1, y: 2 }, { wall: true, x: 4, y: 1 }, { wall: true, x: 4, y: 2 }, ],
    [{ wall: true, x: 1, y: 1 }, { wall: true, x: 1, y: 2 }, { wall: true, x: 3, y: 1 }, { wall: true, x: 3, y: 2 }, ],
    [{ wall: true, x: 1, y: 1 }, { wall: true, x: 1, y: 2 }, { wall: true, x: 4, y: 1 }, { wall: true, x: 4, y: 2 }, ],
    [{ wall: true, x: 1, y: 1 }, { wall: true, x: 1, y: 2 }, { wall: true, x: 3, y: 3 }, { wall: true, x: 3, y: 4 }, ],
];

let apokemart = [
    [{ wall: true, x: 0, y: 5 }, { wall: true, x: 0, y: 6 }, { wall: true, x: 0, y: 7 }, { wall: true, x: 0, y: 12 }, ],
    [{ wall: true, x: 1, y: 5 }, { wall: true, x: 1, y: 6 }, { wall: true, x: 1, y: 7 }, { wall: true, x: 1, y: 8 }, ],
    [{ wall: true, x: 1, y: 5 }, { wall: true, x: 2, y: 6 }, { wall: true, x: 2, y: 7 }, { wall: true, x: 2, y: 8 }, ],
    [{ wall: true, x: 3, y: 5 }, { wall: true, x: 3, y: 6 }, { wall: true, x: 3, y: 7 }, { wall: true, x: 3, y: 8 }, ],
];

let asign = [
    [{ wall: true, x: 3, y: 3 }]
];

let arock = [
    [{ wall: true, x: 3, y: 16 }, { wall: true, x: 3, y: 17 }, ],
    [{ wall: true, x: 4, y: 16 }, { wall: true, x: 4, y: 17 }, ],
];

let abigrock = [
    [{ wall: true, x: 0, y: 13 }, { wall: true, x: 0, y: 13 }, { wall: true, x: 0, y: 13 }, ],
    [{ wall: true, x: 1, y: 14 }, { wall: true, x: 1, y: 14 }, { wall: true, x: 1, y: 14 }, ],
];

let drawlist = [
    [apokemart, 4, 4],
    [abighouse, 8, 4],
    [asign, 10, 9]
];


let scale = 64;
let mapw = map.length;
let maph = map[0].length;

let square = [];
let width = window.innerWidth - (window.innerWidth * .1);
let height = window.innerHeight - (window.innerHeight * .25);
let cenx = Math.floor(width / scale / 2);
let ceny = Math.floor(height / scale / 2);
let px = 3;
let py = 3;
let mapx = -cenx + px;
let mapy = -ceny + py;
let dir = "south";
let ldir = "south";
let sprite;
let activeColor = "#CB4154";
//0 through 9


//fill map with active color

for (i = 0; i < mapw; i++) {
    square.push([]);

    for (j = 0; j < maph; j++) {

        square[i][j] = {
            wall: map[i][j].wall,
            x: map[i][j].x,
            y: map[i][j].y,
            item: "sign"
        };

    }
}

console.log(map);

//draw list
for (i = 0; i < drawlist.length; i++) {
    console.log(drawlist.length);
    drawItems(drawlist[i][0], drawlist[i][1], drawlist[i][2]);
}

//create canvas
let svg = d3.select("#canvas")
    .append("svg")
    .attr("fill", "black")
    .attr("viewBox", [0, 0, width, height]);

//black background
let blackbox = svg.append("rect")
    .attr("x", 0)
    .attr("y", 0)
    .attr("width", width)
    .attr("height", height)
    .attr("fill", "#000");

//draw map
drawMap();

//create border
let border = svg.append("rect")
    .attr("x", 0)
    .attr("y", 0)
    .attr("width", width)
    .attr("height", height)
    .attr("stroke", "#000")
    .attr("stroke-width", 5)
    .attr("fill", "rgba(0,0,0,0)");

//create first sprite
genSprite(dir);


//Add the username
let name = svg.append("text")
    .attr("x", (cenx * scale) + 10)
    .attr("y", (ceny * scale) - (scale - 40))
    .style("font-weight", "800")
    .style("text-shadow", "0px 0px 4px white")
    .text("Name");

//name listener
d3.select("#username").on("input", function() {
    let tinput = d3.select("#username").property("value");
    name.text(tinput);
});

//key listener for movement
document.addEventListener("keydown", (e) => {
    ldir = dir;
    if (e.code === "ArrowUp") {
        if (dir != "north") {
            dir = "north";
        } else {
            mapy -= checkMove(0, -1);
            py -= checkMove(0, -1);
        }
    }
    if (e.code === "ArrowLeft") {
        if (ldir != "west") {
            dir = "west";
        } else {
            mapx -= checkMove(-1, 0);
            px -= checkMove(-1, 0);
        }
    }
    if (e.code === "ArrowDown") {
        if (ldir != "south") {
            dir = "south";
        } else {
            mapy += checkMove(0, 1);
            py += checkMove(0, 1);
        }
    }
    if (e.code === "ArrowRight") {
        if (ldir != "east") {
            dir = "east";
        } else {
            mapx += checkMove(1, 0);
            px += checkMove(1, 0);
        }
    }

    update();
});

//check move
function checkMove(x, y) {

    if ((px + x >= 0 && px + x < mapw) && (py + y >= 0 && py + y < maph)) {
        if (map[px + x][py + y].wall == false) {
            return 1;
        } else {
            return 0;
        }
    } else {
        return 0;
    }

}

//generate sprites
function genSprite(d) {
    if (d === "north") {
        sprite = svg.append("image")
            .attr("xlink:href", "resources/sprite_n.png")
            .attr("width", scale)
            .attr("height", scale)
            .attr("x", (cenx * scale))
            .attr("y", (ceny * scale) - (scale / 4));
    } else if (d === "south") {
        sprite = svg.append("image")
            .attr("xlink:href", "resources/sprite_s.png")
            .attr("width", scale)
            .attr("height", scale)
            .attr("x", (cenx * scale))
            .attr("y", (ceny * scale) - (scale / 4));
    } else if (d === "east") {
        sprite = svg.append("image")
            .attr("xlink:href", "resources/sprite_e.png")
            .attr("width", scale)
            .attr("height", scale)
            .attr("x", (cenx * scale))
            .attr("y", (ceny * scale) - (scale / 4));
    } else if (d === "west") {
        sprite = svg.append("image")
            .attr("xlink:href", "resources/sprite_w.png")
            .attr("width", scale)
            .attr("height", scale)
            .attr("x", (cenx * scale))
            .attr("y", (ceny * scale) - (scale / 4));
    }
}

//change sprite
function changeSprite(d) {
    if (d === "north") {
        sprite.attr("xlink:href", "resources/sprite_n.png");
    } else if (d === "south") {
        sprite.attr("xlink:href", "resources/sprite_s.png");
    } else if (d === "east") {
        sprite.attr("xlink:href", "resources/sprite_e.png");
    } else if (d === "west") {
        sprite.attr("xlink:href", "resources/sprite_w.png");
    }
}

//draw items
function drawItems(item, x, y) {
    for (i = 0; i < item.length; i++) {
        for (j = 0; j < item[0].length; j++) {
            if (i + x <= mapw && j + y <= maph) {
                map[x + i][y + j] = item[i][j];
            }
        }
    }
}

//create the map
function drawMap() {
    for (i = 0; i < mapw; i++) {
        for (j = 0; j < maph; j++) {

            square[i][j] = svg.append("svg")
                .attr("class", "tilewrap")
                .attr("width", 64)
                .attr("height", 64)
                .attr("x", (i - mapx) * scale)
                .attr("y", (j - mapy) * scale)
                .attr("viewBox", [0, 0, 64, 64]);

            square[i][j].append("image")
                .attr("xlink:href", "resources/spritemap64.png")
                .attr("x", map[i][j].x * -64)
                .attr("y", map[i][j].y * -64)
                .attr("class", "tile");

        }
    }

    svg.selectAll("div").style("transform", `scale(1)`);
}

//update the map
function updateMap() {

    //svg.selectAll(".tile").remove();

    console.log(px + "-" + py + " Changed to " + map[px][py].x + " & " + map[px][py].y + "here is ceny" + ceny);

    for (i = 0; i < mapw; i++) {
        for (j = 0; j < maph; j++) {
            square[i][j].transition()
                .attr("x", (i - mapx) * scale)
                .attr("y", (j - mapy) * scale);

            square[i][j].select("image")
                .attr("x", map[i][j].x * -64)
                .attr("y", map[i][j].y * -64);
        }
    }
}

//update the canvas
function update() {

    if (dir === ldir) {
        updateMap();
    } else {
        changeSprite(dir);
    }

}

//resize the window if it gets changed
function resize() {
    width = window.innerWidth - (window.innerWidth * .1);
    height = window.innerHeight - (window.innerHeight * .25);

    svg.attr("viewBox", [0, 0, width, height]);

    border.attr("width", width)
        .attr("height", height);
}
window.onresize = resize;